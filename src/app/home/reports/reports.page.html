<div>
    <div class="nav-wrapper">
        <ul class="nav nav-pills nav-fill flex-column flex-md-row" id="tabs-icons-text" role="tablist">
            <li class="nav-item">
                <a class="nav-link mb-sm-3 mb-md-0 active" id="tabs-icons-text-1-tab" data-toggle="tab" href="#tabs-icons-text-1"
                    role="tab" aria-controls="tabs-icons-text-1" aria-selected="true"><i class="fas fa-clipboard-list mr-2"></i>Medical
                    Histories</a>
            </li>
            <li class="nav-item">
                <a class="nav-link mb-sm-3 mb-md-0" id="tabs-icons-text-2-tab" data-toggle="tab" href="#tabs-icons-text-2"
                    role="tab" aria-controls="tabs-icons-text-2" aria-selected="false"><i class="ni ni-fat-add mr-2"></i>New
                    Medical History</a>
            </li>
        </ul>
    </div>
    <div class="card bg-secondary shadow">
        <div class="card-body">
            <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show active" id="tabs-icons-text-1" role="tabpanel" aria-labelledby="tabs-icons-text-1-tab">

                    <div>
                        <h6 class="heading-small text-muted mb-2">Select a patient</h6>
                        <form class="form form-inline">
                            <div class="form-group mr-2">
                                <select class="form-control form-control-alternative" style="width: 208px">
                                    <option *ngFor="let patient of patients" value="{{patient.id}}">{{patient.name}}</option>
                                </select>
                            </div>
                        </form>
                    </div>

                    <div>
                        Medical Histories
                    </div>

                </div>
                <div class="tab-pane fade" id="tabs-icons-text-2" role="tabpanel" aria-labelledby="tabs-icons-text-2-tab">

                    <form class="form" [formGroup]="medicalHistoryForm" (ngSubmit)="OnSubmitHistory()">
                        <h6 class="heading-small text-muted mb-4">Basic information</h6>
                        <div class="pl-lg-4">
                            <div class="row">
                                <div class="col-lg-4">
                                    <div class="form-group">
                                        <label class="form-control-label">Select patient</label>
                                        <select formControlName="patient" (change)="onChangePatient($event)" class="form-control form-control-alternative"
                                            required>
                                            <option *ngFor="let patient of patients" value="{{patient.id}}">
                                                {{ patient.name }} {{ patient.lastname }}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-lg-4">
                                    <div class="form-group">
                                        <label class="form-control-label" for="input-lastname">Select the treating
                                            dentist</label>
                                        <select formControlName="dentist" (change)="onChangeDentist($event)" class="form-control form-control-alternative"
                                            required>
                                            <option *ngFor="let dentist of dentists" value="{{dentist.id}}">
                                                {{ dentist.name }} {{ dentist.lastname }}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div *ngIf="patient != null && dentist != null" class="accordion" id="accordionExample">
                            <div class="card">
                                <div class="card-header pl-0 pb-2 pt-2" id="headingOne">
                                    <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOne"
                                        aria-expanded="true" aria-controls="collapseOne">
                                        Patient Information
                                    </button>
                                </div>

                                <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">
                                    <div class="card-body">
                                        <div>
                                            <div class="row">
                                                <div class="col-lg-4">
                                                    <div class="form-group">
                                                        <label class="form-control-label">Name</label>
                                                        <input formControlName="name" type="text" class="form-control form-control-alternative"
                                                            placeholder="Name" disabled>
                                                    </div>
                                                </div>
                                                <div class="col-lg-4">
                                                    <div class="form-group">
                                                        <label class="form-control-label">Last Name</label>
                                                        <input formControlName="lastname" type="text" class="form-control form-control-alternative"
                                                            placeholder="Last Name" disabled>
                                                    </div>
                                                </div>
                                                <div class="col-lg-2">
                                                    <div class="form-group">
                                                        <label class="form-control-label">Age</label>
                                                        <input formControlName="age" type="number" class="form-control form-control-alternative"
                                                            placeholder="Age" disabled>
                                                    </div>
                                                </div>
                                                <div class="col-lg-2">
                                                    <div class="form-group">
                                                        <label class="form-control-label">Gender</label>
                                                        <input formControlName="gender" type="text" class="form-control form-control-alternative"
                                                            placeholder="Gender" disabled>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-lg-5">
                                                    <div class="form-group">
                                                        <label class="form-control-label">Identification</label>
                                                        <input formControlName="identification" type="text" class="form-control form-control-alternative"
                                                            placeholder="Identification" disabled>
                                                    </div>
                                                </div>
                                                <div class="col-lg-7">
                                                    <div class="form-group">
                                                        <label class="form-control-label">Address</label>
                                                        <input type="text" class="form-control form-control-alternative"
                                                            placeholder="Address" disabled>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-lg-4">
                                                    <div class="form-group">
                                                        <label class="form-control-label">Place of Birth</label>
                                                        <input formControlName="placeofbirth" type="text" class="form-control form-control-alternative"
                                                            placeholder="Place of Birth" disabled>
                                                    </div>
                                                </div>
                                                <div class="col-lg-4">
                                                    <div class="form-group">
                                                        <label class="form-control-label">Birthdate</label>
                                                        <input formControlName="birthdate" type="date" class="form-control form-control-alternative"
                                                            placeholder="Birthdate" disabled>
                                                    </div>
                                                </div>
                                                <div class="col-lg-4">
                                                    <div class="form-group">
                                                        <label class="form-control-label">Mobile</label>
                                                        <input formControlName="mobile" type="number" class="form-control form-control-alternative"
                                                            placeholder="Mobile" disabled>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-lg-12">
                                                    <div class="form-group">
                                                        <label class="form-control-label">Treating Dentist</label>
                                                        <input formControlName="dentistName" type="text" class="form-control form-control-alternative"
                                                            placeholder="Treating Dentist" disabled>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card">
                                <div class="card-header pl-0 pb-2 pt-2" id="headingTwo">
                                    <button class="btn btn-link collapsed" type="button" data-toggle="collapse"
                                        data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                        Information about consult
                                    </button>
                                </div>
                                <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
                                    <div class="card-body">
                                        <div formGroupName="questions">
                                            <div class="row">
                                                <div class="col-lg-12">
                                                    <div class="form-group">
                                                        <label class="form-control-label">Reason for consultation</label>
                                                        <textarea class="form-control" formControlName="reason" rows="3"
                                                            placeholder="Write a description ..." required></textarea>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12">
                                                    <div class="form-group">
                                                        <label class="form-control-label">Current illness</label>
                                                        <textarea class="form-control" formControlName="actualIll" rows="3"
                                                            placeholder="Write a description ..." required></textarea>
                                                    </div>
                                                </div>
                                            </div>
                                            <hr class="mt-3 mb-4">
                                            <h4 class="mb-4">
                                                <strong><i class="ni ni-bulb-61"></i></strong> List of questions about
                                                current information.
                                            </h4>
                                            <div class="row">
                                                <div class="col-lg-6">
                                                    <div class="custom-control custom-checkbox mb-3">
                                                        <input formControlName="medicalTreatment" class="custom-control-input"
                                                            id="customCheck1" type="checkbox">
                                                        <label class="custom-control-label" for="customCheck1">
                                                            Are you under medical treatment?
                                                        </label>
                                                    </div>
                                                    <div class="custom-control custom-checkbox mb-3">
                                                        <input formControlName="medication" class="custom-control-input"
                                                            id="customCheck2" type="checkbox">
                                                        <label class="custom-control-label" for="customCheck2">
                                                            Do you currently take any medication?
                                                        </label>
                                                    </div>
                                                    <div class="custom-control custom-checkbox mb-3">
                                                        <input formControlName="surgicalIntervention" class="custom-control-input"
                                                            id="customCheck3" type="checkbox">
                                                        <label class="custom-control-label" for="customCheck3">
                                                            Have you had any surgical intervention?
                                                        </label>
                                                    </div>
                                                    <div class="custom-control custom-checkbox mb-3">
                                                        <input formControlName="bloodTransfusion" class="custom-control-input"
                                                            id="customCheck4" type="checkbox">
                                                        <label class="custom-control-label" for="customCheck4">
                                                            Have you received any blood transfusion?
                                                        </label>
                                                    </div>
                                                    <div class="custom-control custom-checkbox mb-3">
                                                        <input formControlName="usedDrugs" class="custom-control-input"
                                                            id="customCheck5" type="checkbox">
                                                        <label class="custom-control-label" for="customCheck5">
                                                            Have you used or used drugs?
                                                        </label>
                                                    </div>
                                                    <div class="custom-control custom-checkbox mb-3">
                                                        <input formControlName="bloodCut" class="custom-control-input"
                                                            id="customCheck13" type="checkbox">
                                                        <label class="custom-control-label" for="customCheck13">
                                                            Excessive blood when cut?
                                                        </label>
                                                    </div>
                                                    <div class="custom-control custom-checkbox mb-3">
                                                        <input formControlName="bloodsIllness" class="custom-control-input"
                                                            id="customCheck15" type="checkbox">
                                                        <label class="custom-control-label" for="customCheck15">
                                                            Anemia, leukemia, hemophilia, deficit vit.k?
                                                        </label>
                                                    </div>
                                                    <div class="custom-control custom-checkbox mb-3">
                                                        <input formControlName="vih" class="custom-control-input" id="customCheck16"
                                                            type="checkbox">
                                                        <label class="custom-control-label" for="customCheck16">
                                                            Are you V.I.H+?
                                                        </label>
                                                    </div>
                                                    <div class="custom-control custom-checkbox mb-3">
                                                        <input formControlName="bloodProblem" class="custom-control-input"
                                                            id="customCheck14" type="checkbox">
                                                        <label class="custom-control-label" for="customCheck14">
                                                            Do you suffer or have you suffered from a blood problem?
                                                        </label>
                                                    </div>
                                                    <div class="custom-control custom-checkbox mb-3">
                                                        <input formControlName="retrovitalMedication" class="custom-control-input"
                                                            id="customCheck17" type="checkbox">
                                                        <label class="custom-control-label" for="customCheck17">
                                                            Take a retrovital medication?
                                                        </label>
                                                    </div>
                                                    <div class="custom-control custom-checkbox mb-3">
                                                        <input formControlName="pregnant" class="custom-control-input"
                                                            id="customCheck18" type="checkbox">
                                                        <label class="custom-control-label" for="customCheck18">
                                                            Are you pregnant?
                                                        </label>
                                                    </div>
                                                    <div class="custom-control custom-checkbox mb-3">
                                                        <input formControlName="controlPills" class="custom-control-input"
                                                            id="customCheck19" type="checkbox">
                                                        <label class="custom-control-label" for="customCheck19">
                                                            Are you currently taking birth control pills?
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6">
                                                    <div class="custom-control custom-checkbox mb-3">
                                                        <input formControlName="allergicReaction" class="custom-control-input"
                                                            id="customCheck6" type="checkbox">
                                                        <label class="custom-control-label" for="customCheck6">
                                                            You have had an allergic reaction to:
                                                        </label>
                                                        <div class="mt-2 pl-2">
                                                            <div class="custom-control custom-checkbox mb-3">
                                                                <input formControlName="penicillin" class="custom-control-input"
                                                                    id="customCheck7" type="checkbox">
                                                                <label class="custom-control-label" for="customCheck7">
                                                                    Penicillin
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="mt-2 pl-2">
                                                            <div class="custom-control custom-checkbox mb-3">
                                                                <input formControlName="anesthesia" class="custom-control-input"
                                                                    id="customCheck8" type="checkbox">
                                                                <label class="custom-control-label" for="customCheck8">
                                                                    Anesthesia
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="mt-2 pl-2">
                                                            <div class="custom-control custom-checkbox mb-3">
                                                                <input formControlName="aspirin" class="custom-control-input"
                                                                    id="customCheck9" type="checkbox">
                                                                <label class="custom-control-label" for="customCheck9">
                                                                    Aspirin, iodine
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <hr class="mb-4 mt-4">
                                                    <div class="custom-control custom-checkbox mb-3">
                                                        <input formControlName="bloodPressure" class="custom-control-input"
                                                            id="customCheck10" type="checkbox">
                                                        <label class="custom-control-label" for="customCheck10">
                                                            Suffering from blood pressure
                                                        </label>
                                                        <div class="mt-2 pl-2">
                                                            <div class="custom-control custom-checkbox mb-3">
                                                                <input formControlName="highPressure" class="custom-control-input"
                                                                    id="customCheck11" type="checkbox">
                                                                <label class="custom-control-label" for="customCheck11">
                                                                    High Pressure
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="mt-2 pl-2">
                                                            <div class="custom-control custom-checkbox mb-3">
                                                                <input formControlName="lowPressure" class="custom-control-input"
                                                                    id="customCheck12" type="checkbox">
                                                                <label class="custom-control-label" for="customCheck12">
                                                                    Low Pressure
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <hr class="mb-4 mt-4">
                                                    <div class="custom-control custom-checkbox mb-3">
                                                        <input formControlName="suffered" class="custom-control-input"
                                                            id="customCheck20" type="checkbox">
                                                        <label class="custom-control-label" for="customCheck20">
                                                            Suffer or have suffered from:
                                                        </label>
                                                        <div class="mt-2 pl-2">
                                                            <div class="custom-control custom-checkbox mb-3">
                                                                <input formControlName="veneralDiseases" class="custom-control-input"
                                                                    id="customCheck21" type="checkbox">
                                                                <label class="custom-control-label" for="customCheck21">
                                                                    Venereal diseases
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="mt-2 pl-2">
                                                            <div class="custom-control custom-checkbox mb-3">
                                                                <input formControlName="heartProblems" class="custom-control-input"
                                                                    id="customCheck22" type="checkbox">
                                                                <label class="custom-control-label" for="customCheck22">
                                                                    Heart problems
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="mt-2 pl-2">
                                                            <div class="custom-control custom-checkbox mb-3">
                                                                <input formControlName="hepatitis" class="custom-control-input"
                                                                    id="customCheck23" type="checkbox">
                                                                <label class="custom-control-label" for="customCheck23">
                                                                    Hepatitis
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <hr class="mt-3 mb-4">
                                            <h4 class="mb-4">
                                                <strong><i class="ni ni-bulb-61"></i></strong> Appearance of the
                                                patient.
                                            </h4>
                                            <div class="row">
                                                <div class="col-lg-12">
                                                    <div class="form-group">
                                                        <label class="form-control-label">Face</label>
                                                        <textarea class="form-control" formControlName="face" rows="2"
                                                            placeholder="Write a description ..." required></textarea>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12">
                                                    <div class="form-group">
                                                        <label class="form-control-label">Lips and Corner</label>
                                                        <textarea class="form-control" formControlName="lipsCorner"
                                                            rows="2" placeholder="Write a description ..." required></textarea>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12">
                                                    <div class="form-group">
                                                        <label class="form-control-label">Ganglia</label>
                                                        <textarea class="form-control" formControlName="ganglia" rows="2"
                                                            placeholder="Write a description ..." required></textarea>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12">
                                                    <div class="form-group">
                                                        <label class="form-control-label">A.T.M</label>
                                                        <textarea class="form-control" formControlName="atm" rows="2"
                                                            placeholder="Write a description ..." required></textarea>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12">
                                                    <div class="form-group">
                                                        <label class="form-control-label">Ears</label>
                                                        <textarea class="form-control" formControlName="ears" rows="2"
                                                            placeholder="Write a description ..." required></textarea>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card">
                                <div class="card-header pl-0 pb-2 pt-2" id="headingThree">
                                    <button class="btn btn-link collapsed" type="button" data-toggle="collapse"
                                        data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                        Intra-oral Clinical Test
                                    </button>
                                </div>

                                <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample">
                                    <div class="card-body">
                                        <div formGroupName="intraOral">
                                            <div class="row">
                                                <div class="col-lg-12">
                                                    <div class="form-group">
                                                        <label class="form-control-label">Cheeks</label>
                                                        <textarea class="form-control" formControlName="cheeks" rows="3"
                                                            placeholder="Write a description ..." required></textarea>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12">
                                                    <div class="form-group">
                                                        <label class="form-control-label">Mucous membrane</label>
                                                        <textarea class="form-control" formControlName="mucous" rows="3"
                                                            placeholder="Write a description ..." required></textarea>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12">
                                                    <div class="form-group">
                                                        <label class="form-control-label">Gum</label>
                                                        <textarea class="form-control" formControlName="gum" rows="3"
                                                            placeholder="Write a description ..." required></textarea>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12">
                                                    <div class="form-group">
                                                        <label class="form-control-label">Tongue</label>
                                                        <textarea class="form-control" formControlName="tongue" rows="3"
                                                            placeholder="Write a description ..." required></textarea>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12">
                                                    <div class="form-group">
                                                        <label class="form-control-label">Palate</label>
                                                        <textarea class="form-control" formControlName="palate" rows="3"
                                                            placeholder="Write a description ..." required></textarea>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-lg btn-success mt-3" type="submit" [disabled]="!medicalHistoryForm.valid">Create
                                    New Medical History</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>